language: rust
rust:
  - stable
  - beta
  - nightly
matrix:
  allow_failures:
    - rust: nightly
  fast_finish: true

cache: cargo

script: 
  - cargo build

addons:
  postgresql: 9.6
  apt:
    packages:
    - postgresql-9.6-postgis-2.3

before_script:
  - psql -c 'create database geocoder;' -U postgres
  - psql -c "create extension postgis" -U postgres geocoder
  - psql -c "create extension fuzzystrmatch" -U postgres geocoder
  - psql -c "create extension tiger_geocoder" -U postgres geocoder
